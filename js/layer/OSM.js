SuperMap.Layer.OSM=SuperMap.Class(SuperMap.CanvasLayer,{name:"OpenStreetMap",url:["http://a.tile.openstreetmap.org/${z}/${x}/${y}.png","http://b.tile.openstreetmap.org/${z}/${x}/${y}.png","http://c.tile.openstreetmap.org/${z}/${x}/${y}.png"],attribution:"Data CC-By-SA by <a style='white-space: nowrap' target='_blank' href='http://openstreetmap.org/'>OpenStreetMap</a>",initialize:function(b,a){a=SuperMap.Util.extend({projection:"EPSG:900913",numZoomLevels:16},a);SuperMap.CanvasLayer.prototype.initialize.apply(this,[b,this.url,{},a])},clone:function(a){if(a==null){a=new SuperMap.Layer.OSM(this.name,this.url,this.getOptions())}a=SuperMap.Layer.CanvasLayer.prototype.clone.apply(this,[a]);return a},destroy:function(){var a=this;SuperMap.CanvasLayer.prototype.destroy.apply(a,arguments)},getTileUrl:function(a){var c=this,b;if(SuperMap.Util.isArray(this.url)){b=c.selectUrl(a,this.url)}b=SuperMap.String.format(b,{x:a.x,y:a.y,z:a.z});return b},selectUrl:function(a,c){var d=Math.abs(a.x+a.y)%c.length;var b=c[d];return b},CLASS_NAME:"SuperMap.Layer.OSM"});